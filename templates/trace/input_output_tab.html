{% load chat_tags %}

<!-- Inputs & Outputs tab content -->
<div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
    <!-- Input Data Section -->
    <div class="card bg-base-100 shadow-md">
        <div class="card-header border-b border-base-200 px-6 py-4">
            <h3 class="text-lg font-semibold text-base-content">Input Data</h3>
            <p class="text-sm text-base-content/60 mt-1">User query and context provided to the system</p>
        </div>
        <div class="card-body p-6">
            {% if trace.input_message %}
                <div class="space-y-4">
                    <!-- Message Content -->
                    <div class="bg-base-50 rounded-lg p-4 border border-base-200">
                        <div class="prose max-w-none text-sm">
                            {% if trace.input_message.content %}
                                {{ trace.input_message.content|render_markdown }}
                            {% else %}
                                <span class="text-base-content/50 italic">No content available</span>
                            {% endif %}
                        </div>
                        <span class="text-xs text-base-content/50">
                            <time datetime="{{ trace.input_message.created_at.isoformat }}" title="{{ trace.input_message.created_at.isoformat }}">
                              {{ trace.input_message.created_at|date:"DATETIME_FORMAT" }}
                            </time>
                        </span>
                    </div>
                </div>
            {% else %}
                <div class="text-center py-8">
                    <div class="text-base-content/40 mb-2">
                        <i class="fas fa-inbox text-2xl"></i>
                    </div>
                    <p class="text-base-content/60">No input message available for this trace</p>
                </div>
            {% endif %}
        </div>
    </div>

    <!-- Output Data Section -->
    <div class="card bg-base-100 shadow-md">
        <div class="card-header border-b border-base-200 px-6 py-4">
            <h3 class="text-lg font-semibold text-base-content">Output Data</h3>
            <p class="text-sm text-base-content/60 mt-1">Generated response and metadata</p>
        </div>
        <div class="card-body p-6">
            {% if trace.output_message %}
                <div class="space-y-4">
                    <!-- Message Content -->
                    <div class="bg-base-50 rounded-lg p-4 border border-base-200">
                        <div class="prose max-w-none text-sm">
                            {% if trace.output_message.content %}
                                {{ trace.output_message.content|render_markdown }}
                            {% else %}
                                <span class="text-base-content/50 italic">No content available</span>
                            {% endif %}
                        </div>
                        <span class="text-xs text-base-content/50">
                            <time datetime="{{ trace.output_message.created_at.isoformat }}" title="{{ trace.output_message.created_at.isoformat }}">
                              {{ trace.output_message.created_at|date:"DATETIME_FORMAT" }}
                            </time>
                        </span>
                    </div>
                </div>
            {% else %}
                <div class="text-center py-8">
                    <div class="text-base-content/40 mb-2">
                        <i class="fas fa-reply text-2xl"></i>
                    </div>
                    <p class="text-base-content/60">No output message available for this trace</p>
                </div>
            {% endif %}
        </div>
    </div>
</div>
