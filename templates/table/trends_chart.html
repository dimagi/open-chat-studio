<a href="{{ record.traces_url }}" class="flex items-center justify-center">
    <div class="w-24 h-10">
        <canvas id="{{ record.id }}-trends" data-trends="{{ trends_json }}"></canvas>
    </div>
</a>
<script>
    (function() {
        const canvasElement = document.getElementById('{{ record.id }}-trends');
        if (canvasElement.chart) {
            // Destroy existing chart if it exists
            canvasElement.chart.destroy();
        }
        const chartContext = canvasElement.getContext('2d');
        const trendsData = JSON.parse(canvasElement.dataset.trends);
        // Store chart reference on canvas for future cleanup
        canvasElement.chart = SiteJS.trends.renderChart(chartContext, trendsData);
    })();
</script>
