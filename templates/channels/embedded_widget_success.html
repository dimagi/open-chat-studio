<div class="embed-widget-success">
    <div class="d-flex align-items-center mb-3">
        <i class="fas fa-check-circle text-success fs-4 me-2"></i>
        <h5 class="mb-0">Embedded Chat Widget Created Successfully!</h5>
    </div>
    <div class="card mb-3">
        <div class="card-header">
            <strong><i class="fas fa-key me-1"></i> Widget Authentication Token</strong>
        </div>
        <div class="card-body">
            <div class="input-group">
                <input type="text" class="form-control font-monospace"
                       id="widget-token-{{ channel.id }}" value="{{ widget_token }}" readonly>
                <button class="btn btn-outline-secondary" type="button"
                        onclick="copyToClipboard(this, 'widget-token-{{ channel.id }}')"
                        title="Copy token to clipboard">
                    <i class="fas fa-copy"></i> Copy
                </button>
            </div>
            <small class="form-text text-muted mt-2">
                <i class="fas fa-shield-alt me-1"></i>
                This token authenticates your widget. Keep it secure and don't share it publicly.
            </small>
        </div>
    </div>
    <div class="card mb-3">
        <div class="card-header">
            <strong><i class="fas fa-globe me-1"></i> Allowed Domains</strong>
        </div>
        <div class="card-body">
            {% if allowed_domains %}
                <ul class="list-unstyled mb-0">
                {% for domain in allowed_domains %}
                    <li><i class="fas fa-check text-success me-2"></i>{{ domain }}</li>
                {% endfor %}
                </ul>
            {% else %}
                <p class="mb-0 text-warning">
                    <i class="fas fa-exclamation-triangle me-1"></i>
                    <strong>All domains allowed</strong> - Consider restricting to specific domains for security.
                </p>
            {% endif %}
            <small class="form-text text-muted mt-2">
                The widget will only work on these authorized domains.
            </small>
        </div>
    </div>

    <div class="card mb-3">
        <div class="card-header d-flex justify-content-between align-items-center">
            <strong><i class="fas fa-code me-1"></i> Embed Code</strong>
            <button class="btn btn-sm btn-outline-primary" type="button"
                    onclick="copyTextToClipboard(this, `{{ embed_code|escapejs }}`)"
                    title="Copy embed code to clipboard">
                <i class="fas fa-copy"></i> Copy All Code
            </button>
        </div>
        <div class="card-body p-0">
            <pre class="embed-code-display mb-0" id="embed-code-{{ channel.id }}">{{ embed_code }}</pre>
        </div>
        <div class="card-footer">
            <small class="text-muted">
                <i class="fas fa-info-circle me-1"></i>
                Copy this code and paste it into your website's HTML where you want the chat widget to appear.
            </small>
        </div>
    </div>
</div>
