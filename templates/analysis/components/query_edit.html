<div class="border rounded-lg p-4" id="query-{{ query.id }}">
  <form
    hx-post="{% url 'analysis:update_query' request.team.slug object.id query.id %}"
    hx-target="#query-{{ query.id }}"
    hx-swap="outerHTML"
  >
    {% csrf_token %}

    <div class="mb-2">
      <h3 class="font-medium">Edit Query</h3>
    </div>

    <div class="mb-3">
      <label class="block text-sm font-medium mb-1">Name</label>
      <input
        type="text"
        name="name"
        class="input input-bordered w-full"
        placeholder="Enter query name"
        value="{{ query.name }}"
      >
    </div>

    <div class="mb-3">
      <label class="block text-sm font-medium mb-1">Prompt</label>
      <textarea
        name="prompt"
        class="textarea textarea-bordered w-full"
        rows="3"
        placeholder="Enter query prompt"
      >{{ query.prompt }}</textarea>
    </div>

    <div class="mb-3">
      <label class="block text-sm font-medium mb-1">Output Format</label>
      <input
        type="text"
        name="output_format"
        class="input input-bordered w-full"
        placeholder="Output format (e.g., JSON, CSV)"
        value="{{ query.output_format }}"
      >
    </div>

    <div class="flex gap-2 mt-4 justify-end">
      <button type="submit" class="btn btn-sm btn-primary">Save</button>
    </div>
  </form>
</div>
