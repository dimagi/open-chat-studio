- id: sessions_last_week
  input:
    query: "sessions within the last week"
  checks:
    - type: count
      expected: 1
    - type: filter_params
      expected: ["message_date"]

- id: messages_tagged_funny
  input:
    query: "messages tagged with 'funny'"
  checks:
    - type: count
      expected: 1
    - type: filter_params
      expected: ["tags"]

- id: conversations_whatsapp_or_telegram
  input:
    query: "conversations from WhatsApp or Telegram"
  checks:
    - type: count
      expected: 1
    - type: filter_params
      expected: ["channels"]

- id: active_sessions_version_v6
  input:
    query: "active sessions using version v6"
  checks:
    - type: count
      expected: 2
    - type: filter_params
      expected: ["state", "versions"]

- id: participant_starts_with_john
  input:
    query: "participants whose name starts with 'john'"
  checks:
    - type: count
      expected: 1
    - type: filter_params
      expected: ["participant"]

- id: completed_last_30_days_exclude_api
  input:
    query: "completed sessions from the last 30 days excluding the API channel"
  checks:
    - type: count
      expected: 3
    - type: filter_params
      expected: ["channels", "last_message", "state"]

- id: tags_all_of_blue_funny
  input:
    query: "messages with both 'blue' and 'funny' tags"
  checks:
    - type: count
      expected: 1
    - type: filter_params
      expected: ["tags"]

- id: chatbot_basic_bot_last_3_months
  input:
    query: "sessions for the 'basic bot' chatbot started in the last 3 months"
  checks:
    - type: count
      expected: 2
    - type: filter_params
      expected: ["experiment", "first_message"]

- id: web_participant_demo_no_go_tag
  input:
    query: "Web conversations from participant containing 'demo' without the 'go' tag"
  checks:
    - type: count
      expected: 3
    - type: filter_params
      expected: ["channels", "participant", "tags"]

- id: complex_multi_filter
  input:
    query: "active v5 or v6 sessions from Facebook in the last hour tagged with üëç"
  checks:
    - type: count
      expected: 5
    - type: filter_params
      expected: ["channels", "message_date", "state", "tags", "versions"]
