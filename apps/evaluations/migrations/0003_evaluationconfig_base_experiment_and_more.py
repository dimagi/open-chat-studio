# Generated by Django 5.1.5 on 2025-07-24 15:03

import django.db.models.deletion
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ("evaluations", "0002_evaluationmessage_history"),
        ("experiments", "0113_experiment_experiments_team_id_e83039_idx_and_more"),
    ]

    operations = [
        migrations.AddField(
            model_name="evaluationconfig",
            name="base_experiment",
            field=models.ForeignKey(
                blank=True,
                help_text="Base chatbot used when experiment_version is a sentinel value.",
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                related_name="evaluations_as_base",
                to="experiments.experiment",
            ),
        ),
        migrations.AddField(
            model_name="evaluationconfig",
            name="experiment_version",
            field=models.ForeignKey(
                blank=True,
                help_text="Specific chatbot version to use for evaluation. If not set, will skip generation.",
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                to="experiments.experiment",
            ),
        ),
        migrations.AddField(
            model_name="evaluationconfig",
            name="version_selection_type",
            field=models.CharField(
                choices=[
                    ("specific", "Specific Version"),
                    ("latest_working", "Latest Working Version"),
                    ("latest_published", "Latest Published Version"),
                ],
                default="specific",
                help_text="Type of version selection: specific, latest_working, or latest_published",
                max_length=50,
            ),
        ),
        migrations.AddField(
            model_name="evaluationrun",
            name="generation_experiment",
            field=models.ForeignKey(
                blank=True,
                help_text="The experiment version used for generation during this evaluation run",
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                to="experiments.experiment",
            ),
        ),
    ]
